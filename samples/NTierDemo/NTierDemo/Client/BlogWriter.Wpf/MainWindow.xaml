<Window x:Class="BlogWriter.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:v="clr-namespace:BlogWriter.Wpf.Views"
        xmlns:dp="clr-namespace:BlogWriter.Wpf.DependencyProperties"
        Title="N-Tier Demo  -  Blog Witer" 
        Height="350" Width="525">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <!-- login -->
        <ContentControl Style="{StaticResource SlidingPage}" VerticalAlignment="Center" Width="300" 
                        dp:ContentControlProperty.IsActive="{Binding LoginViewModel, Converter={StaticResource IsNotNullConverter}}">
            <v:LoginView DataContext="{Binding LoginViewModel}" />
        </ContentControl>

        <!-- registration -->
        <ContentControl Style="{StaticResource SlidingPage}" VerticalAlignment="Center" Width="300"
                        dp:ContentControlProperty.IsActive="{Binding RegistrationViewModel, Converter={StaticResource IsNotNullConverter}}">
            <v:RegistrationView DataContext="{Binding RegistrationViewModel}" />
        </ContentControl>

        <!-- blogs and posts -->
        <ContentControl Style="{StaticResource SlidingPage}"
                        dp:ContentControlProperty.IsActive="{Binding UserBlogsViewModel, Converter={StaticResource IsNotNullConverter}}">
            <v:UserBlogsView DataContext="{Binding UserBlogsViewModel}" />
        </ContentControl>

        <!-- status bar -->
        <StatusBar Grid.Row="1">
            <StatusBarItem Content="Powered by N-Tier Entity Framework"/>
            <Separator Visibility="{Binding IsUserAuthenticated, Converter={StaticResource BooleanToCollapsed}}" />
            <StatusBarItem Visibility="{Binding IsUserAuthenticated, Converter={StaticResource BooleanToCollapsed}}">
                <TextBlock>
                    <Run Text="{Binding CurrentUser.FirstName}"/>
                    <Run Text="{Binding CurrentUser.LastName}"/>
                </TextBlock>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
